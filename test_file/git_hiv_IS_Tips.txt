##1- Basecalling
For a MinION run, one script is enough and will last maximum 2 days on a NVIDIA:a30 or a40 gpu. For a PromethION run, you should split the pod5 files into 400 Go files and each basecalling will last between 3 to 6 days depending on the gpu.
To run on the PRABI cluster, only specify cpu-per-task at low value (ie:4) as it's should not change the basecalling time. Other settings like mem or partition is not mandatory to start this step.

## 2- Demultiplexing
Before this step, if multiples bam files were produce, they can be merge using bamtools. 
Dorado demux can directly produce fastq files instead of bam if --emist-fastq argument is used
High cpu-per-task (ie:32) option on the same gpu used for basecalling (a30 or a40) was used for efficient demultiplexing.

## 3- Filtering steps
Be carefull to select the proper reference.
Mapping step to remove aspecific amplifiaction should be done on the LTR sequence WITHOUT primer to avoid unwanted mapping on the primer sequence only.
For the size selection process, select the size of the LTR sequence WITH primer because primer sequence it is still part of the fragment sequence that will me mapped on the genome.

##4- Extract UMI
This step allows to extract UMI for all the fragments configurations:
positive and negative strand
sens and antisens orientation
LTR5 or LTR3 presence

##5- Mapping
Select LTR sequence WITH primers 